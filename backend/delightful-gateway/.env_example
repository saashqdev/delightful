# General configuration
JWT_SECRET=your-secret-key-change-me
API_GATEWAY_VERSION=1.0.0
DEFAULT_API_URL=https://api.default-service.com
DELIGHTFUL_GATEWAY_API_KEY=your-gateway-api-key-here

# OpenAI service configuration
OPENAI_API_KEY=sk-xxxx
OPENAI_API_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4

# Delightful service configuration
DELIGHTFUL_API_KEY=xxx
DELIGHTFUL_API_BASE_URL=https://api.magic.com/v1
DELIGHTFUL_MODEL=gpt-4o-global

# DeepSeek service configuration
DEEPSEEK_API_KEY=xxxxx
DEEPSEEK_API_BASE_URL=https://api.deepseek.com/v1
DEEPSEEK_MODEL=deepseek-coder

# Azure OpenAI service configuration
AZURE_OPENAI_EMBEDDING_API_KEY=xxxx
AZURE_OPENAI_EMBEDDING_ENDPOINT=https://example.openai.azure.com/
AZURE_OPENAI_EMBEDDING_MODEL=text-embedding-3-large
AZURE_OPENAI_EMBEDDING_DEPLOYMENT=example-text-embedding
AZURE_OPENAI_EMBEDDING_API_VERSION=2023-05-15

# Gateway configuration
DELIGHTFUL_GATEWAY_API_KEY=xxxxx
DELIGHTFUL_GATEWAY_DEBUG=false
DELIGHTFUL_GATEWAY_HOST=http://host.docker.internal:8001
REDIS_PASSWORD=magic123456

DELIGHTFUL_GATEWAY_PORT=8000

# Target URL whitelist configuration
# Format: type:pattern@description|type:pattern@description
# Note: Use @ to separate description (optional) to avoid conflicts with : in URLs
# Rule types:
#   - exact: Exact URL match (e.g., exact:https://api.example.com/v1@Example API)
#   - domain: Domain and all subdomains (e.g., domain:example.com@Allow all subdomains)
#   - prefix: URL prefix match (e.g., prefix:https://api.example.com/@Allow all paths)
#   - regex: Regular expression match (e.g., regex:^https://api\.example\.com/v[0-9]+/@Versioned API)
#
# Security features: Automatically blocks internal IPs (127.x, 10.x, 192.168.x, etc.) and non-http(s) protocols
#
# Example 1 - Allow specific domains:
# DELIGHTFUL_GATEWAY_ALLOWED_TARGET_URLS=domain:example.com@Example Service|domain:openai.com@OpenAI API
#
# Example 2 - Mixed rules (recommended):
# DELIGHTFUL_GATEWAY_ALLOWED_TARGET_URLS=domain:xxxx.cn@Internal Service|prefix:https://api.github.com/@GitHub API|exact:https://api.openai.com/v1/chat/completions@OpenAI Chat
#
DELIGHTFUL_GATEWAY_ALLOWED_TARGET_URLS=

# Allowed internal IP configuration (optional)
# For multi-node deployment scenarios, allow some internal IPs to pass validation
# Format: Supports multiple delimiters (comma, semicolon, newline, space)
# Supports single IP and CIDR format (IPv4 and IPv6)
#
# Single-node deployment example:
# DELIGHTFUL_GATEWAY_ALLOWED_TARGET_IP=192.168.1.1,10.0.0.0/8
#
# Multi-node deployment example (comma-separated):
# DELIGHTFUL_GATEWAY_ALLOWED_TARGET_IP=10.0.1.0/24,10.0.2.0/24,10.0.3.0/24,192.168.1.0/24
#
# Multi-node deployment example (newline-separated, suitable for config files):
# DELIGHTFUL_GATEWAY_ALLOWED_TARGET_IP="10.0.1.0/24
# 10.0.2.0/24
# 10.0.3.0/24
# 192.168.1.0/24"
#
# Mixed format example:
# DELIGHTFUL_GATEWAY_ALLOWED_TARGET_IP=192.168.1.1,10.0.0.0/8;172.16.0.0/12 192.168.2.0/24
#
# IPv6 support example:
# DELIGHTFUL_GATEWAY_ALLOWED_TARGET_IP=10.0.0.0/8,2001:db8::/32,::1
#
# Note: If this variable is not configured, all internal IPs will be blocked
DELIGHTFUL_GATEWAY_ALLOWED_TARGET_IP=

# Special API configuration (optional)
# Configure services that need automatic API key replacement in request body
# Format: BASE_URL_ENV:API_KEY_ENV|BASE_URL_ENV2:API_KEY_ENV2
# DELIGHTFUL_GATEWAY_SPECIAL_API_KEYS=

# Environment variable whitelist prefixes configuration
DELIGHTFUL_GATEWAY_ENV_WHITELIST_PREFIXES="OPENAI_,DELIGHTFUL_,DEEPSEEK_,TEXT_TO_IMAGE_,VOICE_UNDERSTANDING_"

# AI data signing configuration
# Base64-encoded 64-byte Ed25519 private key for AI data signature verification
AI_DATA_SIGNING_KEY=your_base64_encoded_ed25519_private_key_here

# Volcengine Full-Stack Observability Platform configuration (optional)
# When the request target domain is Volcengine Observability Platform, HTTP requests will be automatically converted to gRPC requests
# Volcengine Observability Platform AppKey (required for authentication)
VOLCENGINE_APM_APPKEY=
# Volcengine Observability Platform endpoint (optional, default: apmplus-cn-beijing.ivolces.com:4317)
VOLCENGINE_APM_ENDPOINT=

# If using Volcengine Observability Platform, need to add its domain to the whitelist, e.g.:
# DELIGHTFUL_GATEWAY_ALLOWED_TARGET_URLS=domain:volces.com@Volcengine Observability Platform|domain:ivolces.com@Volcengine Observability Platform (Internal)

REDIS_HOST=magic-redis
REDIS_PORT=6379
REDIS_DB=6
REDIS_PASSWORD=
