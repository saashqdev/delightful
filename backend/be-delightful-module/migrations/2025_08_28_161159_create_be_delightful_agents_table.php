<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the MIT software license */ use Hyperf\Database\Migrations\Migration; use Hyperf\Database\Schema\Blueprint; use Hyperf\Database\Schema\Schema; class CreateBeDelightfulAgentsTable extends Migration { /** * Run the migrations. */ public function up(): void { Schema::create('delightful_be_delightful_agents', function (Blueprint $table) { $table->id(); $table->string('organization_code', 50)->comment('Organization code'); $table->string('code', 50)->unique()->comment('Uniqueencoding'); $table->string('name', 80)->default('')->comment('Agentname'); $table->string('description', 512)->default('')->comment('Agentdescription'); $table->string('icon', 100)->Nullable()->default('')->comment('Agenticon'); $table->tinyInteger('type')->default(2)->comment('Agenttype: 1-Built-in, 2-custom'); $table->boolean('enabled')->default(true)->comment('whether enabled'); $table->json('prompt')->Nullable()->comment('system prompt'); $table->json('tools')->Nullable()->comment('Toolcolumntable'); $table->string('creator', 40)->comment('Creator'); $table->string('modifier', 40)->comment('Modify person '); $table->timestamps(); $table->softDeletes(); $table->index(['organization_code', 'creator'], 'idx_org_creator'); $table->index(['organization_code', 'code'], 'idx_org_code'); }); } /** * Reverse the migrations. */ public function down(): void { Schema::dropIfExists('delightful_be_delightful_agents'); } } 