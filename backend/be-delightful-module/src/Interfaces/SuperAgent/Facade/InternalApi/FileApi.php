<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the MIT software license */ namespace Delightful\SuperDelightful\Interfaces\SuperAgent\Facade\InternalApi; use Delightful\ApiResponse\Annotation\ApiResponse; use Delightful\SuperDelightful\Application\SuperAgent\Service\FileVersionAppService; use Delightful\SuperDelightful\Interfaces\SuperAgent\DTO\Request\CreateFileVersionRequestDTO; use Delightful\SuperDelightful\Interfaces\SuperAgent\Facade\AbstractApi; use Hyperf\HttpServer\Contract\RequestInterface; #[ApiResponse('low_code')] class FileApi extends AbstractApi { public function __construct( private readonly FileVersionAppService $fileVersionAppService, protected RequestInterface $request, ) { parent::__construct($request); } /** * CreateFileVersion. * * @return array CreateResult*/ public function createFileVersion(): array { $requestDTO = CreateFileVersionRequestDTO::fromRequest($this->request); $responseDTO = $this->fileVersionAppService->createFileVersion($requestDTO); return $responseDTO->toArray(); } } 