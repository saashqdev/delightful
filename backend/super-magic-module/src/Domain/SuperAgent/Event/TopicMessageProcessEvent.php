<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the MIT software license */ namespace Dtyq\SuperMagic\Domain\SuperAgent\Event; /** * TopicMessageProcess/HandleEvent (Lightweight). *  only Notification have MessageNeedProcess/Handle,  not PassSpecificMessageContent.*/ class TopicMessageProcessEvent extends AbstractEvent { /** * ConstructFunction. * * @param int $topicId TopicID * @param int $taskId TaskID*/ public function __construct( private readonly int $topicId, private readonly int $taskId = 0 ) { // Call parent constructor to generate snowflake ID parent::__construct(); } /** * fromArrayCreateEvent.*/ public static function fromArray(array $data): self { return new self( topicId: (int) ($data['topic_id'] ?? 0), taskId: (int) ($data['task_id'] ?? 0) ); } /** * Convert toArray.*/ public function toArray(): array { return [ 'topic_id' => $this->topicId, 'task_id' => $this->taskId, 'event_id' => $this->getEventId(), ]; } /** * getTopicID.*/ public function getTopicId(): int { return $this->topicId; } /** * getTaskID.*/ public function getTaskId(): int { return $this->taskId; } } 