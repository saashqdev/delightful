<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the MIT software license */ namespace Dtyq\SuperMagic\Domain\Agent\Factory; use DateTime; use Dtyq\SuperMagic\Domain\Agent\Entity\SuperMagicAgentEntity; use Dtyq\SuperMagic\Domain\Agent\Entity\ValueObject\BuiltinAgent; use Dtyq\SuperMagic\Domain\Agent\Entity\ValueObject\SuperMagicAgentType; class BuiltinAgentFactory { /** * CreateBuilt-inAgentEntity.*/ public static function createEntity(BuiltinAgent $builtinAgent, string $organizationCode): SuperMagicAgentEntity { $entity = new SuperMagicAgentEntity(); // setBasicinformation $entity->setOrganizationCode($organizationCode); $entity->setCode($builtinAgent->value); $entity->setName($builtinAgent->getName()); $entity->setDescription($builtinAgent->getDescription()); $entity->setIcon($builtinAgent->getIcon()); $entity->setType(SuperMagicAgentType::Built_In); $entity->setEnabled(true); $entity->setPrompt($builtinAgent->getPrompt()); $entity->setTools([]); // setSystemCreateinformation $entity->setCreator('system'); $entity->setCreatedAt(new DateTime()); $entity->setModifier('system'); $entity->setUpdatedAt(new DateTime()); return $entity; } /** * CreateAllBuilt-inAgentEntity. * @return array<SuperMagicAgentEntity>*/ public static function createAllBuiltinEntities(string $organizationCode): array { $entities = []; foreach (BuiltinAgent::getAllBuiltinAgents() as $builtinAgent) { $entities[] = self::createEntity($builtinAgent, $organizationCode); } return $entities; } } 