<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the MIT software license */ namespace Delightful\SuperMagic\Infrastructure\ExternalAPI\SandboxOS\Agent\Request; /** * SandboxFileSaveRequestClass * Used forcallSandbox /api/v1/files/edit Interface.*/ class SaveFilesRequest { private array $files; public function __construct(array $files) { $this->files = $files; } /** * CreateFileSaveRequest*/ public static function create(array $files): self { return new self($files); } /** * fromApplicationlayerDataCreateRequest*/ public static function fromFileData(array $fileDataList): self { $files = []; foreach ($fileDataList as $fileData) { $files[] = [ 'file_key' => $fileData['file_key'], 'file_path' => $fileData['file_path'], 'content' => $fileData['content'], 'is_encrypted' => false, ]; } return new self($files); } /** * Convert to array format (Used forAPIcall).*/ public function toArray(): array { return [ 'files' => $this->files, ]; } /** * getFilelist.*/ public function getFiles(): array { return $this->files; } /** * getFileQuantity.*/ public function getFileCount(): int { return count($this->files); } } 