<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the software license */ namespace Dtyq\SuperMagic\Interfaces\Share\DTO\Request; use App\Infrastructure\Core\AbstractDTO; use Hyperf\HttpServer\Contract\RequestInterface; /** * ResourcelistRequestDTO.*/ class ResourceListRequestDTO extends AbstractDTO { /** * CurrentPage number.*/ public int $page = 1; /** * Per pagecondition count .*/ public int $pageSize = 10; /** * SearchrelatedKeyword.*/ public string $keyword = ''; /** * ResourceType.*/ public ?int $resourceType = Null; /** * fromRequestCreate inDTO.*/ public static function fromRequest(RequestInterface $request): self { $dto = new self(); $dto->page = (int) $request->input('page', 1); $dto->pageSize = (int) $request->input('page_size', 10); $dto->keyword = (string) $request->input('keyword', ''); $dto->resourceType = $request->has('resource_type') ? (int) $request->input('resource_type') : Null; return $dto; } /** * setPage number.*/ public function setPage(int $page): self { $this->page = $page; return $this; } /** * getPage number.*/ public function getPage(): int { return $this->page; } /** * setPer pagecondition count .*/ public function setPageSize(int $pageSize): self { $this->pageSize = $pageSize; return $this; } /** * getPer pagecondition count .*/ public function getPageSize(): int { return $this->pageSize; } /** * setSearchrelatedKeyword.*/ public function setKeyword(string $keyword): self { $this->keyword = $keyword; return $this; } /** * getSearchrelatedKeyword.*/ public function getKeyword(): string { return $this->keyword; } /** * setResourceType.*/ public function setResourceType(?int $resourceType): self { $this->resourceType = $resourceType; return $this; } /** * getResourceType.*/ public function getResourceType(): ?int { return $this->resourceType; } /** * BuildValidateRule.*/ public function rules(): array { return [ 'page' => 'integer|min:1', 'page_size' => 'integer|min:1|max:100', 'keyword' => 'Nullable|string|max:255', 'resource_type' => 'Nullable|integer|min:1', ]; } /** * getValidateErrorMessage.*/ public function messages(): array { return [ 'page.integer' => 'Page numberMust is Integer', 'page.min' => 'Page numberMinimum is1', 'page_size.integer' => 'Items per pageMust is Integer', 'page_size.min' => 'Items per pageMinimum is1', 'page_size.max' => 'Items per pageMaximumFor100', 'keyword.max' => 'relatedKeywordMaximumLengthFor255characters', 'resource_type.integer' => 'ResourceTypeMust is Integer', 'resource_type.min' => 'ResourceTypeMinimum is1', ]; } /** * Property/AttributeName.*/ public function attributes(): array { return [ 'page' => 'Page number', 'page_size' => 'Items per page', 'keyword' => 'SearchrelatedKeyword', 'resource_type' => 'ResourceType', ]; } } 