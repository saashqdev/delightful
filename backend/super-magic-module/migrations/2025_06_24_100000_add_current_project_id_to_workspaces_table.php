<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the MIT software license */ use Hyperf\Database\Migrations\Migration; use Hyperf\Database\Schema\Blueprint; use Hyperf\Database\Schema\Schema; return new class extends Migration { /** * Run migrations. */ public function up(): void { // as magic_super_agent_workspaces tableAdd current_project_id field Schema::table('magic_super_agent_workspaces', function (Blueprint $table) { $table->bigInteger('current_project_id')->Nullable()->comment('current project ID')->after('current_topic_id'); }); echo 'For workspace tableAddCurrentProjectIDFieldComplete' . PHP_EOL; } /** * Reverse migrations. */ public function down(): void { // Delete magic_super_agent_workspaces table's current_project_id field Schema::table('magic_super_agent_workspaces', function (Blueprint $table) { $table->dropColumn('current_project_id'); }); echo 'DeleteWorkspaceTable's CurrentProject IDFieldComplete' . PHP_EOL; } }; 