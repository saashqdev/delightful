<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the software license */ use Hyperf\Database\Migrations\Migration; use Hyperf\Database\Schema\Blueprint; use Hyperf\Database\Schema\Schema; return new class extends Migration { /** * Run the migrations. */ public function up(): void { if (Schema::hasTable('magic_super_agent_workspace_versions')) { return; } Schema::create('magic_super_agent_workspace_versions', function (Blueprint $table) { $table->unsignedBigInteger('id'); $table->unsignedBigInteger('topic_id')->comment('topic ID'); $table->string('sandbox_id', 255)->comment('sandboxid。'); $table->string('commit_hash', 255)->comment('commit hash。'); $table->text('dir')->comment('TopicFilecolumntable'); $table->string('folder', 255)->comment('Folder'); $table->timestamps(); $table->softDeletes(); }); } /** * Reverse the migrations. */ public function down(): void { Schema::dropIfExists('magic_super_agent_workspace_versions'); } }; 