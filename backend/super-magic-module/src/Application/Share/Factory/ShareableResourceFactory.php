<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the MIT software license */ namespace Dtyq\SuperMagic\Application\Share\Factory; use Dtyq\SuperMagic\Application\Share\Adapter\FileShareableResource; use Dtyq\SuperMagic\Application\Share\Adapter\ProjectShareableResource; use Dtyq\SuperMagic\Application\Share\Adapter\TopicShareableResource; use Dtyq\SuperMagic\Application\Share\Factory\Facade\ResourceFactoryInterface; use Dtyq\SuperMagic\Domain\Share\Constant\ResourceType; use RuntimeException; /** * simplesingleResourceFactory, By/According toResourceTypeReturnPair should ImplementationClassInstance.*/ class ShareableResourceFactory { /** * By/According toResourceTypeCreatePair should ResourceFactoryInstance. * * @param ResourceType $resourceType ResourceType * @return ResourceFactoryInterface ResourceFactoryInterfaceImplementation * @throws RuntimeException whenResourceType not SupportThrow when*/ public function create(ResourceType $resourceType): ResourceFactoryInterface { // By/According toResourceTypeReturnPair should Implementation $implementation = match ($resourceType) { ResourceType::Topic => TopicShareableResource::class, ResourceType::Project => ProjectShareableResource::class, ResourceType::File => FileShareableResource::class, // Canadd more multipleResourceTypeMapping // ResourceType::Document => DocumentShareableResource::class, // ResourceType::Knowledge => KnowledgeShareableResource::class, default => Null }; if ($implementation === Null) { throw new RuntimeException( sprintf('Not supportedResourceType: %s', $resourceType->name) ); } // trythroughContainergetInstance return Di($implementation); } } 