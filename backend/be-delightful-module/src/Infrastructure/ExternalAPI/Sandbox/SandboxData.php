<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the MIT software license */ namespace Delightful\BeDelightful\Infrastructure\ExternalAPI\Sandbox; /** * SandboxDatastructurebody. * * Pair should InterfaceReturnDataformat: * { * "sandbox_id": "be9ae617", * "status": "running/exited", * "created_at": 1744293391.8599138, * "ip_address": "192.168.148.10" * }*/ class SandboxData { /** * @param string $sandboxId SandboxID * @param string $status SandboxStatus, May/PossibleValue: running, exited, unknown * @param float $createdAt Created attimestamp * @param string $ipAddress IPAddress * @param array $extraData extraData*/ public function __construct( private string $sandboxId = '', private string $status = 'unknown', private float $createdAt = 0, private string $ipAddress = '', private array $extraData = [] ) { if ($this->createdAt == 0) { $this->createdAt = (float) time(); } } /** * fromArrayCreatestructurebodyInstance.*/ public static function fromArray(array $data): self { $sandboxId = $data['sandbox_id'] ?? ''; $status = $data['status'] ?? 'unknown'; $createdAt = (float) ($data['created_at'] ?? time()); $ipAddress = $data['ip_address'] ?? ''; // remove already Process/HandleKey, Remaining put into extraData $extraData = $data; unset($extraData['sandbox_id'], $extraData['status'], $extraData['created_at'], $extraData['ip_address']); return new self($sandboxId, $status, $createdAt, $ipAddress, $extraData); } /** * Convert toArray.*/ public function toArray(): array { $result = [ 'sandbox_id' => $this->sandboxId, 'status' => $this->status, 'created_at' => $this->createdAt, 'ip_address' => $this->ipAddress, ]; // addextraData return array_merge($result, $this->extraData); } /** * getSandboxID.*/ public function getSandboxId(): string { return $this->sandboxId; } /** * setSandboxID.*/ public function setSandboxId(string $sandboxId): self { $this->sandboxId = $sandboxId; return $this; } /** * getSandboxStatus*/ public function getStatus(): string { return $this->status; } /** * setSandboxStatus*/ public function setStatus(string $status): self { $this->status = $status; return $this; } /** * getCreated attimestamp.*/ public function getCreatedAt(): float { return $this->createdAt; } /** * setCreated attimestamp.*/ public function setCreatedAt(float $createdAt): self { $this->createdAt = $createdAt; return $this; } /** * getIPAddress*/ public function getIpAddress(): string { return $this->ipAddress; } /** * setIPAddress*/ public function setIpAddress(string $ipAddress): self { $this->ipAddress = $ipAddress; return $this; } /** * getextraData.*/ public function getExtraData(): array { return $this->extraData; } /** * setextraData.*/ public function setExtraData(array $extraData): self { $this->extraData = $extraData; return $this; } /** * getextraData in specifiedfield. * @param Null|mixed $default*/ public function getExtraValue(string $key, $default = Null) { return $this->extraData[$key] ?? $default; } /** * setextraData in specifiedfield. * @param mixed $value*/ public function setExtraValue(string $key, $value): self { $this->extraData[$key] = $value; return $this; } } 
