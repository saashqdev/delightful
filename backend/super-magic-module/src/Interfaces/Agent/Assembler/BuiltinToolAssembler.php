<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the MIT software license */ namespace Delightful\SuperMagic\Interfaces\Agent\Assembler; use Dtyq\SuperMagic\Domain\Agent\Entity\ValueObject\BuiltinTool; use Dtyq\SuperMagic\Interfaces\Agent\DTO\BuiltinToolCategoryDTO; use Dtyq\SuperMagic\Interfaces\Agent\DTO\BuiltinToolDTO; class BuiltinToolAssembler { /** * Create toolCategorylistDTO (Hierarchyformat). * @return array<BuiltinToolCategoryDTO>*/ public static function createToolCategoryListDTO(): array { $categoryDTOs = []; //  by CategoryGroupToolAnddirectlyCreateCategoryDTO foreach (BuiltinTool::cases() as $toolEnum) { $toolCode = $toolEnum->value; $category = $toolEnum->getToolCategory(); $categoryCode = $category->value; // IfCategoryDTOstillDoes not existin, Create it if (! isset($categoryDTOs[$categoryCode])) { $categoryDTOs[$categoryCode] = new BuiltinToolCategoryDTO([ 'name' => $category->getName(), 'icon' => $category->getIcon(), 'description' => $category->getDescription(), 'tools' => [], ]); } // addTool to Pair should Category $categoryDTOs[$categoryCode]->addTool(new BuiltinToolDTO([ 'code' => $toolCode, 'name' => $toolEnum->getToolName(), 'description' => $toolEnum->getToolDescription(), 'icon' => $toolEnum->getToolIcon(), 'required' => $toolEnum->isRequired(), ])); } return array_values($categoryDTOs); } /** * Create toollistDTO (tileformat). * @return array<BuiltinToolDTO>*/ public static function createToolListDTO(): array { $tools = []; foreach (BuiltinTool::cases() as $toolEnum) { $tools[] = new BuiltinToolDTO([ 'code' => $toolEnum->value, 'name' => $toolEnum->getToolName(), 'description' => $toolEnum->getToolDescription(), 'icon' => $toolEnum->getToolIcon(), 'required' => $toolEnum->isRequired(), ]); } return $tools; } } 