#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import json
import re

# Final targeted mappings for remaining top characters
char_translations = {
    'ä¹Ž': '',
    'å°¾': 'tail',
    'æŠ«': 'drape',
    'é€¸': 'elegant',
    'é“…': 'lead',
    'è¾›': 'spicy',
    'å¹•': 'curtain',
    'èž': 'blend',
    'è¸ª': 'trace',
    'æ¥¼': 'building',
    'é¢œ': 'color',
    'æ¶': 'evil',
    'å›­': 'garden',
    'å‰ª': 'cut',
    'ç¤¼': 'gift',
    'å¢™': 'wall',
    'è·': 'lotus',
    'å‡¤': 'phoenix',
    'å¦™': 'wonderful',
    'æ¢µ': 'Sanskrit',
    'è¾¨': 'distinguish',
    'è„‘': 'brain',
    'å®': 'grand',
    'æ£’': 'great',
    'æµª': 'wave',
    'å±': 'screen',
    'è¾‰': 'glow',
    'è¡—': 'street',
    'çº¤': 'fiber',
    'ç‹—': 'dog',
    'æ‰‡': 'fan',
    'ç‹': 'fox',
    'éª¨': 'bone',
    'çŽ©': 'play',
    'å£³': 'shell',
    'æ——': 'flag',
    'å¦†': 'makeup',
    'å† ': 'crown',
    'é“¾': 'chain',
    'é­…': 'charm',
    'å‹’': 'rein',
    'æ½®': 'tide',
    'ç«¹': 'bamboo',
    'è¿½': 'chase',
    'éœ“': 'neon',
    'ç¥¥': 'auspicious',
    'æ©˜': 'orange',
    'çƒ·': 'alkane',
    'å¿§': 'worry',
    'åºž': 'huge',
    'é«»': 'bun',
    'ç“·': 'porcelain',
    'æ¼ ': 'desert',
    'å¹…': 'width',
    'è€€': 'shine',
    'æ³¨': 'note',
    'æ„': 'meaning',
    'ç®': 'hoop',
    'ç¾½': 'feather',
    'è…¿': 'leg',
    'è‚©': 'shoulder',
    'è½¨': 'track',
    'è¢–': 'sleeve',
    'æ»©': 'beach',
    'å¡”': 'tower',
    'è¢‹': 'bag',
    'æ¼©': 'whirlpool',
    'æ¶¡': 'vortex',
    'çª—': 'window',
    'å¥¥': 'profound',
    'åº„': 'solemn',
    'å·§': 'skillful',
    'ç‰™': 'tooth',
    'ç‰Œ': 'brand',
    'å¤': 'summer',
    'éª‘': 'ride',
    'ç›²': 'blind',
    'æ–‘': 'spot',
    'è¿¹': 'trace',
    'è›‡': 'snake',
    'æ£•': 'brown',
    'æ‰®': 'dress up',
    'æ©™': 'orange',
    'å”': 'Tang',
    'çˆ†': 'burst',
    'ä»”': 'boy',
    'åºŸ': 'waste',
    'è…°': 'waist',
    'æ ©': 'vivid',
    'ç‹¸': 'raccoon',
    'é“ ': 'armor',
    'å™ª': 'noise',
    'å²›': 'island',
    'é¼»': 'nose',
    'æ»š': 'roll',
    'ç ': 'code',
    'ç»š': 'gorgeous',
    'å¥¶': 'milk',
    'é¼ ': 'mouse',
    'æ›': 'expose',
    'æ”€': 'climb',
    'å ¡': 'castle',
    'æœ': 'Du',
    'è²': 'fragrant',
    'çŸ¢': 'arrow',
    'è¡¬': 'lining',
    'è›‡': 'serpent',
    'å¡‘': 'plastic',
    'ä¾ ': 'warrior',
    'è´': 'butterfly',
    'è¶': 'butterfly',
    'ä¼¼': 'like',
    'ç¾Š': 'sheep',
    'é¸¦': 'crow',
    'æ¡ƒ': 'peach',
    'æ€–': 'fear',
    'å…½': 'beast',
    'æ»¤': 'filter',
    'æ¢¦': 'dream',
    'å ': 'stack',
    'æž': 'branch',
    'ç¿…': 'wing',
    'è¿ª': 'di',
    'ç„°': 'flame',
    'è†€': 'shoulder',
    'åš': 'broad',
    'è‰³': 'gorgeous',
    'æ²«': 'foam',
    'æœ¦': 'hazy',
    'èƒ§': 'hazy',
    'åž’': 'rampart',
    'è¯¡': 'mysterious',
    'å˜Ÿ': 'pout',
    'å˜»': 'laugh',
    'å“ˆ': 'ha',
    'å˜¿': 'hey',
    'å“Ÿ': 'yo',
    'å”·': 'oh',
    'å—¨': 'hi',
    'å–”': 'oh',
    'å“‡': 'wow',
    'å‘œ': 'woo',
    'å—¯': 'hmm',
    'å•¦': 'la',
    'å“’': 'da',
    'å—·': 'howl',
    'å¼': 'roar',
    'åšŽ': 'howl',
    'å˜¶': 'hiss',
    'å•¸': 'whistle',
    'å’†': 'roar',
    'å“®': 'roar',
    'å—¥': 'howl',
    'å˜¤': 'sob',
    'å’½': 'swallow',
    'åž': 'swallow',
    'å’€': 'chew',
    'åš¼': 'chew',
    'å•ƒ': 'gnaw',
    'èˆ”': 'lick',
    'å®': 'suck',
    'å': 'spit',
    'å–·': 'spray',
    'å˜˜': 'hush',
    'åš·': 'shout',
    'åš£': 'clamor',
    'å–§': 'noisy',
    'å“—': 'crash',
    'è½°': 'boom',
    'éš†': 'rumble',
    'å’š': 'thud',
    'å˜­': 'bang',
    'ç °': 'bang',
    'å•ª': 'slap',
    'å•µ': 'pop',
    'å—–': 'whoosh',
    'å—¡': 'buzz',
    'å’»': 'swoosh',
    'é£•': 'whoosh',
    'é£’': 'rustle',
    'ç‘Ÿ': 'rustle',
    'ç°Œ': 'rustle',
    'å”°': 'swish',
    'æ·…': 'patter',
    'æ²¥': 'drip',
    'éœˆ': 'rain',
    'éœ': 'drizzle',
    'æ¿›': 'misty',
    'æ˜§': 'obscure',
    'å†¥': 'dark',
    'æ£®': 'forest',
    'éƒ': 'dense',
    'é‚ƒ': 'deep',
    'æ¸Š': 'abyss',
    'ç©¹': 'dome',
    'è‹': 'azure',
    'èŒ«': 'vast',
    'è¾½': 'vast',
    'æ°“': 'vagrant',
    'å¸®': 'gang',
    'æ´¾': 'faction',
    'çœ©': 'dizzy',
    'æ‰': 'rub',
    'æ': 'pinch',
    'æŽ': 'pinch',
    'æ‹§': 'twist',
    'æ“': 'rub',
    'æ¿': 'press',
    'æ‘': 'press',
    'æ‰¯': 'pull',
    'æ‹½': 'drag',
    'æ‹–': 'drag',
    'æ›³': 'trail',
    'ç‰µ': 'lead',
    'æº': 'carry',
    'æ§': 'hold',
    'æ“Ž': 'lift',
    'æ‰›': 'carry',
    'æ’‘': 'support',
    'æŒº': 'upright',
    'ç«–': 'vertical',
    'ç¡¬': 'hard',
    'å¥': 'healthy',
    'éŸ§': 'tough',
    'æ¯…': 'resolute',
    'è„†': 'crisp',
    'ç¾ž': 'shy',
    'æ€¯': 'timid',
    'ç•': 'fear',
    'æƒ§': 'dread',
    'æ…Œ': 'panic',
    'å¿™': 'busy',
    'åŒ†': 'hurried',
    'é½': 'sudden',
    'éª¤': 'sudden',
    'é™¡': 'steep',
    'å³»': 'precipitous',
    'å´Ž': 'rugged',
    'å²–': 'rugged',
    'å´š': 'rugged',
    'å¶’': 'steep',
    'å·‰': 'cliff',
    'å·…': 'summit',
    'é¢ ': 'top',
    'å°–': 'sharp',
    'é”': 'sharp',
    'é”‹': 'edge',
    'èŠ’': 'radiance',
    'é”·': 'edge',
    'åˆƒ': 'blade',
    'æˆˆ': 'spear',
    'æžª': 'gun',
    'ç‚®': 'cannon',
    'ç®­': 'arrow',
    'é•–': 'dart',
    'é’‰': 'nail',
    'æ£˜': 'bramble',
    'è†': 'thorn',
    'è”·': 'rose',
    'è–‡': 'rose',
    'è•¾': 'bud',
    'è‹ž': 'bud',
    'è•Š': 'stamen',
    'è¼': 'calyx',
    'æ¢—': 'stem',
    'è—¤': 'vine',
    'ç¼ ': 'entangle',
    'ç¼­': 'wind',
    'è¦': 'linger',
    'ç»µ': 'continuous',
    'ä¼¸': 'stretch',
    'èˆ’': 'comfortable',
    'ç•…': 'smooth',
    'é': 'everywhere',
    'æŠµ': 'reach',
    'ä¸´': 'approach',
    'å±Š': 'arrive',
    'å°±': 'accomplish',
    'é“¸': 'cast',
    'é›•': 'carve',
    'ç¢': 'polish',
    'ç£¨': 'grind',
    'ç º': 'sharpen',
    'å‰Š': 'whittle',
    'å‰”': 'pick',
    'æŒ–': 'dig',
    'æŽ˜': 'excavate',
    'å‡¿': 'chisel',
    'é’»': 'drill',
    'æ´ž': 'hole',
    'çªŸ': 'cave',
    'ç©´': 'den',
    'çª': 'nest',
    'å·¢': 'nest',
    'çª ': 'nest',
    'å‘': 'pit',
    'å‡¹': 'concave',
    'é™·': 'sink',
    'å¡Œ': 'collapse',
    'åž®': 'collapse',
    'å': 'collapse',
    'æ‘§': 'destroy',
    'æ¯': 'ruin',
    'ç—›': 'pain',
    'ç–¼': 'ache',
    'éº»': 'numb',
    'ç—’': 'itchy',
    'ç—¹': 'numb',
    'åƒµ': 'stiff',
    'æ»ž': 'stagnant',
    'é’': 'blunt',
    'ç™«': 'crazy',
    'ç–¯': 'insane',
    'æ€”': 'stupefied',
    'æ„£': 'stunned',
    'å¾': 'slowly',
    'è€½': 'delay',
    'æ': 'shelve',
    'é™ˆ': 'display',
    'èœ¿': 'winding',
    'è¿‚': 'roundabout',
    'è¿´': 'circle',
    'å¾Š': 'wander',
    'è¿”': 'return',
    'æ¢': 'recover',
    'æ„ˆ': 'heal',
    'æ•‘': 'save',
    'æ´': 'rescue',
    'æ‰¶': 'support',
    'å¾¡': 'resist',
    'æŒ¡': 'block',
    'é': 'stop',
    'æŠ‘': 'suppress',
    'æ “': 'fasten',
    'æ‹´': 'tether',
    'ç¾': 'restrain',
    'ç¦': 'prohibit',
    'é”': 'lock',
    'å¡ž': 'plug',
    'å µ': 'block',
    'æˆª': 'cut off',
    'ç¢Ž': 'shatter',
    'å±‘': 'crumb',
    'æ¸£': 'residue',
    'æ¶Ž': 'saliva',
    'æ±': 'juice',
    'æµ†': 'pulp',
    'ç³Š': 'paste',
    'ç³•': 'cake',
    'é¥º': 'dumpling',
    'é¦’': 'steamed bun',
    'é¦': 'bun',
    'é…¥': 'crispy',
    'çˆ½': 'crisp',
    'ç³¯': 'glutinous',
    'è½¯': 'soft',
    'ç¨€': 'dilute',
    'æ·¡': 'light',
    'ç¨ ': 'dense',
    'å ': 'drop',
    'åŠ': 'hang',
    'æŒ‚': 'hang',
    'é™¨': 'fall',
    'æ²¦': 'fall',
    'å •': 'fall',
    'è·Œ': 'fall',
    'æ‘”': 'fall',
    'æ²¡': 'submerge',
    'æ·¹': 'flood',
    'æºº': 'drown',
    'æµ¸': 'soak',
    'æ¸': 'stain',
    'æ²¾': 'contaminate',
    'æ±¡': 'dirty',
    'æµŠ': 'turbid',
    'æµ‘': 'turbid',
    'æ¥ž': 'stupefied',
    # Additional common ones
    'å¨˜': 'mother',
    'çˆ¹': 'father',
    'çˆ¸': 'dad',
    'å¦ˆ': 'mom',
    'å§': 'sister',
    'å“¥': 'brother',
    'å¼Ÿ': 'brother',
    'å¦¹': 'sister',
    'å”': 'uncle',
    'å§¨': 'aunt',
    'èˆ…': 'uncle',
    'å§‘': 'aunt',
    'å©¶': 'aunt',
    'å«‚': 'sister-in-law',
    'åª³': 'daughter-in-law',
    'å©¿': 'son-in-law',
    'å­™': 'grandchild',
    'å­™': 'grandson',
    'ä¾„': 'nephew',
    'ç”¥': 'nephew',
    'å©´': 'infant',
    'ç«¥': 'child',
    'ä»™': 'fairy',
    'ä½›': 'Buddha',
    'ç¥ž': 'god',
    'é¬¼': 'ghost',
    'å¦–': 'demon',
    'å·«': 'witch',
    'ä»™': 'immortal',
    'é¾™': 'dragon',
    'å‡¤': 'phoenix',
    'è™Ž': 'tiger',
    'ç‹®': 'lion',
    'è±¹': 'leopard',
    'ç‹¼': 'wolf',
    'ç†Š': 'bear',
    'é¹¿': 'deer',
    'è±¡': 'elephant',
    'çŒ´': 'monkey',
    'çŒ¿': 'ape',
    'çŒ©': 'orangutan',
    'é¹°': 'eagle',
    'é¹¤': 'crane',
    'é¸½': 'pigeon',
    'é¹…': 'goose',
    'é¸­': 'duck',
    'é¹¦': 'parrot',
    'é¹‰': 'parrot',
    'ä¹Œ': 'crow',
    'é¸¦': 'raven',
    'è™': 'bat',
    'è ': 'bat',
    'è¶': 'butterfly',
    'èœ‚': 'bee',
    'èœœ': 'honey',
    'èš': 'ant',
    'èœ˜': 'spider',
    'è››': 'spider',
    'èŽ': 'scorpion',
    'èŸ¹': 'crab',
    'è™¾': 'shrimp',
    'èŸ†': 'toad',
    'è›™': 'frog',
    'é¾Ÿ': 'turtle',
    'é³–': 'turtle',
    'é³„': 'crocodile',
    'é²¸': 'whale',
    'é²¨': 'shark',
    'è±š': 'dolphin',
    'é³—': 'eel',
    'é³Ÿ': 'trout',
    'é²¤': 'carp',
    'é²«': 'crucian',
    'é²ˆ': 'bass',
    'é³•': 'cod',
    'é²‘': 'salmon',
    'é³…': 'loach',
    'è´': 'shell',
    'èžº': 'snail',
    'èšŒ': 'clam',
    'è›¤': 'clam',
    'è›Ž': 'oyster',
    'æ‰‡': 'scallop',
    'èŸ¹': 'crab',
    'è™¾': 'shrimp',
    'èœ—': 'snail',
}

def translate_prompt(prompt):
    """Translate Chinese characters in a prompt to English"""
    result = prompt
    for chinese, english in char_translations.items():
        if english:
            result = result.replace(chinese, english)
    return result

def count_chinese_chars(text):
    """Count Chinese characters in text"""
    return len(re.findall(r'[\u4e00-\u9fff]', text))

print("Loading image_prompt.json...")
with open('frontend/delightful-web/src/opensource/pages/chatNew/components/AiImageStartPage/image_prompt.json', 'r', encoding='utf-8') as f:
    json_data = json.load(f)

print("\nPass 6: Comprehensive cleanup...")
translated_count = 0
total_before = 0
total_after = 0

for category in json_data.get('data', []):
    for image_item in category.get('images', []):
        if 'prompt' in image_item:
            original = image_item['prompt']
            chinese_before = count_chinese_chars(original)
            total_before += chinese_before
            
            if chinese_before > 0:
                translated = translate_prompt(original)
                chinese_after = count_chinese_chars(translated)
                total_after += chinese_after
                
                if chinese_after < chinese_before:
                    image_item['prompt'] = translated
                    translated_count += 1

print(f"\nSaving updated file...")
with open('frontend/delightful-web/src/opensource/pages/chatNew/components/AiImageStartPage/image_prompt.json', 'w', encoding='utf-8') as f:
    json.dump(json_data, f, ensure_ascii=False, indent=2)

print(f"\nâœ… Pass 6 complete!")
print(f"Modified {translated_count} prompts")
print(f"Chinese characters: {total_before} â†’ {total_after}")
if total_before > 0:
    reduction_pct = ((total_before - total_after) / total_before * 100)
    print(f"Removed: {total_before - total_after} characters ({reduction_pct:.1f}%)")
    print(f"\nðŸ“Š Translation Progress Summary:")
    print(f"   Remaining: {total_after} Chinese characters")
    print(f"   Status: {'âœ… Substantially complete' if total_after < 2000 else 'ðŸ”„ Continue translating'}")
