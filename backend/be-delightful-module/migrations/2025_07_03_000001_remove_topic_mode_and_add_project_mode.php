<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the MIT software license */ use Hyperf\Database\Migrations\Migration; use Hyperf\Database\Schema\Blueprint; use Hyperf\Database\Schema\Schema; return new class extends Migration { /** * Run the migrations. */ public function up(): void { // as delightful_super_agent_project tableadd project_mode field Schema::table('delightful_super_agent_project', function (Blueprint $table) { if (! Schema::hasColumn('delightful_super_agent_project', 'project_mode')) { $table->string('project_mode', 50)->Nullable()->default('')->comment('Projectmode: general-Generalformode, ppt-PPTmode, data_analysis-dataAnalysismode, report-Research reportmode, meeting-Meetingmode, summary-Summarymode, be_delightful-Be Delightfulmode')->after('current_topic_status'); } }); echo 'DeleteTopicModeFieldAndAddProjectModeFieldComplete' . PHP_EOL; } /** * Reverse the migrations. */ public function down(): void { } }; 