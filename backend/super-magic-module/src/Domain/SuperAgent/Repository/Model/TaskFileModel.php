<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the MIT software license */ namespace Delightful\SuperMagic\Domain\SuperAgent\Repository\Model; use App\Infrastructure\Core\AbstractModel; use Delightful\SuperMagic\Domain\SuperAgent\Entity\ValueObject\StorageType; use Delightful\SuperMagic\Domain\SuperAgent\Entity\ValueObject\TaskFileSource; use Hyperf\Database\Model\SoftDeletes; class TaskFileModel extends AbstractModel { use SoftDeletes; protected ?string $table = 'magic_super_agent_task_files'; protected string $primaryKey = 'file_id'; /** * Fillablefieldlist.*/ protected array $fillable = [ 'file_id', 'user_id', 'organization_code', 'project_id', 'topic_id', 'latest_modified_topic_id', 'task_id', 'latest_modified_task_id', 'file_type', 'file_name', 'file_extension', 'file_key', 'file_size', 'external_url', 'storage_type', // StorageType，byFileProcessAppService.processAttachmentsArraymethodPassed in 'is_hidden', // WhetherFor hidingFile 'is_directory', // WhetherForDirectory 'sort', // SortField 'parent_id', // ParentID 'metadata', // File element Data，Storage JSON 'source', // comesourceField：1-homepage，2-ProjectDirectory，3-agent 'created_at', 'updated_at', 'deleted_at', ]; /** * defaultProperty/AttributeValue*/ protected array $attributes = [ 'storage_type' => StorageType::WORKSPACE->value, // DefaultStorageTypeForworkspace 'is_hidden' => 0, // DefaultNot hiddenFile：0-no，1- is  'is_directory' => 0, // DefaultNotDirectory：0-no，1- is  'sort' => 0, // DefaultSortFor0 'source' => TaskFileSource::HOME->value, // DefaultcomesourceForhomepage ]; /** * TypeConvert.*/ protected array $casts = [ 'is_hidden' => 'boolean', // AutoConvertData database in0/1Convert tofalse/true 'is_directory' => 'boolean', // AutoConvertData database in0/1Convert tofalse/true 'source' => TaskFileSource::class, // AutoConvertData database inintConvert toTaskFileSourceEnum 'storage_type' => StorageType::class, // AutoConvertData database instringConvert toStorageTypeEnum ]; public function getDates(): array { return []; } } 