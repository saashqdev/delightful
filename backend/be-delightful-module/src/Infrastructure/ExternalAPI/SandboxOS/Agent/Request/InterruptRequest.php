<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the MIT software license */ namespace Delightful\BeDelightful\Infrastructure\ExternalAPI\SandboxOS\Agent\Request; use App\Infrastructure\Util\IdGenerator\IdGenerator; /** * InterruptRequestClass * StrictAccording toSandboxGeneral message DocumentInterruptRequestformat.*/ class InterruptRequest { public function __construct( private string $messageId = '', private string $userId = '', private string $taskId = '', private string $remark = '' ) { } /** * CreateInterruptRequest*/ public static function create(string $messageId, string $userId, string $taskId, string $remark = ''): self { return new self($messageId, $userId, $taskId, $remark); } /** * setUser ID. */ public function setUserId(string $userId): self { $this->userId = $userId; return $this; } /** * getUser ID. */ public function getUserId(): string { return $this->userId; } /** * setTaskID.*/ public function setTaskId(string $taskId): self { $this->taskId = $taskId; return $this; } /** * getTaskID.*/ public function getTaskId(): string { return $this->taskId; } /** * setMessageID.*/ public function setMessageId(string $messageId): self { $this->messageId = $messageId; return $this; } /** * getMessageID.*/ public function getMessageId(): string { return $this->messageId; } /** * setRemark.*/ public function setRemark(string $remark): self { $this->remark = $remark; return $this; } /** * getRemark.*/ public function getRemark(): string { return $this->remark; } /** * Convert toAPIRequestArray * By/According toSandboxGeneral message DocumentInterruptRequestformat.*/ public function toArray(): array { $data = [ 'message_id' => ! empty($this->messageId) ? $this->messageId : (string) IdGenerator::getSnowId(), 'user_id' => $this->userId, 'task_id' => $this->taskId, 'prompt' => '', 'type' => 'chat', 'context_type' => 'interrupt', ]; // If have Remark then add to Request in  if (! empty($this->remark)) { $data['remark'] = $this->remark; } return $data; } } 