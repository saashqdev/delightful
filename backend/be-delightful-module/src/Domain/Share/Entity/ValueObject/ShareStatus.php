<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the MIT software license */ namespace Delightful\BeDelightful\Domain\Share\Entity\ValueObject; use DateTime; /** * shareStatusValueObject * TableshowshareCurrentStatus (Valid、Expire、Deletewait).*/ class ShareStatus { /** * Status: Valid.*/ public const STATUS_ACTIVE = 'active'; /** * Status: Expire*/ public const STATUS_EXPIRED = 'expired'; /** * Status:  already Delete.*/ public const STATUS_DELETED = 'deleted'; /** * Status: passwordError.*/ public const STATUS_PASSWORD_ERROR = 'password_error'; /** * Status: noaccessedPermission.*/ public const STATUS_NO_PERMISSION = 'no_permission'; /** * CurrentStatusValue*/ private string $status; /** * Expired at.*/ private ?DateTime $expireAt; /** * Deleted at.*/ private ?DateTime $deletedAt; /** * ConstructFunction.*/ private function __construct(string $status, ?DateTime $expireAt = Null, ?DateTime $deletedAt = Null) { $this->status = $status; $this->expireAt = $expireAt; $this->deletedAt = $deletedAt; } /** * Convert toString.*/ public function __toString(): string { return $this->status; } /** * CreateValidStatus*/ public static function active(?DateTime $expireAt = Null): self { return new self(self::STATUS_ACTIVE, $expireAt, Null); } /** * CreateExpireStatus*/ public static function expired(DateTime $expireAt): self { return new self(self::STATUS_EXPIRED, $expireAt, Null); } /** * Create already DeleteStatus*/ public static function deleted(DateTime $deletedAt): self { return new self(self::STATUS_DELETED, Null, $deletedAt); } /** * CreatepasswordErrorStatus*/ public static function passwordError(): self { return new self(self::STATUS_PASSWORD_ERROR); } /** * CreatenoaccessedPermissionStatus*/ public static function noPermission(): self { return new self(self::STATUS_NO_PERMISSION); } /** * getStatusValue*/ public function getStatus(): string { return $this->status; } /** * getExpired at.*/ public function getExpireAt(): ?DateTime { return $this->expireAt; } /** * getDeleted at.*/ public function getDeletedAt(): ?DateTime { return $this->deletedAt; } /** * CheckStatuswhetherFor active.*/ public function isActive(): bool { return $this->status === self::STATUS_ACTIVE; } /** * CheckStatuswhetherForExpire*/ public function isExpired(): bool { return $this->status === self::STATUS_EXPIRED; } /** * CheckStatuswhetherFor alreadyDelete.*/ public function isDeleted(): bool { return $this->status === self::STATUS_DELETED; } /** * CheckStatuswhetherForpasswordError.*/ public function isPasswordError(): bool { return $this->status === self::STATUS_PASSWORD_ERROR; } /** * CheckStatuswhetherFor noaccessedPermission.*/ public function isNoPermission(): bool { return $this->status === self::STATUS_NO_PERMISSION; } /** * Checksharewhethercanaccessed.*/ public function isAccessible(): bool { return $this->isActive(); } } 