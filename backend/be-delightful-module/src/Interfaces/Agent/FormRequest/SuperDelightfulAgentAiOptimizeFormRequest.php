<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the MIT software license */ namespace Delightful\BeDelightful\Interfaces\Agent\FormRequest; use Delightful\BeDelightful\Domain\Agent\Entity\ValueObject\BeDelightfulAgentOptimizationType; use Hyperf\Validation\Request\FormRequest; class BeDelightfulAgentAiOptimizeFormRequest extends FormRequest { public function authorize(): bool { return true; } public function rules(): array { return [ 'optimization_type' => ['required', 'string', function ($attribute, $value, $fail) { if (BeDelightfulAgentOptimizationType::fromString($value)->isNone()) { $fail('The ' . $attribute . ' is invalid.'); } }], 'agent' => 'required|array', 'agent.name' => 'Nullable|string', 'agent.description' => 'Nullable|string', 'agent.prompt' => 'Nullable|array', 'agent.tools' => 'Nullable|array', 'agent.icon' => 'Nullable|array', ]; } public function messages(): array { return [ 'optimization_type.required' => 'OptimizeTypeCannot be empty', 'optimization_type.in' => 'OptimizeTypeInvalid', 'agent.required' => 'AgentDataCannot be empty', 'agent.array' => 'AgentDataMust is ArrayFormat', ]; } } 