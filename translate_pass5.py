#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import json
import re

# Final comprehensive character mappings
char_translations = {
    '乎': '',
    '塑': 'plastic',
    '侠': 'hero',
    '蝴': 'butterfly',
    '蝶': 'butterfly',
    '似': 'like',
    '羊': 'sheep',
    '鸦': 'crow',
    '桃': 'peach',
    '怖': 'terror',
    '兽': 'beast',
    '滤': 'filter',
    '梦': 'dream',
    '叠': 'stack',
    '枝': 'branch',
    '翅': 'wing',
    '迪': 'di',
    '焰': 'flame',
    '膀': 'shoulder',
    '博': 'wide',
    '艳': 'gorgeous',
    '沫': 'foam',
    '朦': 'hazy',
    '胧': 'hazy',
    '垒': 'rampart',
    '诡': 'strange',
    '嘟': 'pout',
    '嘻': 'giggle',
    '哈': 'ha',
    '嘿': 'hey',
    '哟': 'yo',
    '唷': 'oh',
    '嗨': 'hi',
    '喔': 'oh',
    '哇': 'wow',
    '呜': 'woo',
    '嗯': 'hmm',
    '啦': 'la',
    '哒': 'da',
    '嗷': 'howl',
    '吼': 'roar',
    '嚎': 'howl',
    '嘶': 'hiss',
    '啸': 'whistle',
    '咆': 'roar',
    '哮': 'roar',
    '嗥': 'howl',
    '嘤': 'sob',
    '咽': 'swallow',
    '吞': 'swallow',
    '咀': 'chew',
    '嚼': 'chew',
    '啃': 'gnaw',
    '舔': 'lick',
    '吮': 'suck',
    '吸': 'inhale',
    '呼': 'exhale',
    '吐': 'spit',
    '喷': 'spray',
    '嘘': 'hush',
    '嚷': 'shout',
    '嚣': 'clamor',
    '喧': 'noisy',
    '哗': 'crash',
    '轰': 'boom',
    '隆': 'rumble',
    '咚': 'thud',
    '嘭': 'bang',
    '砰': 'bang',
    '啪': 'slap',
    '啵': 'pop',
    '嘶': 'hiss',
    '嗖': 'whoosh',
    '嗡': 'buzz',
    '嘟': 'toot',
    '咻': 'swoosh',
    '飕': 'whoosh',
    '飒': 'rustle',
    '瑟': 'rustle',
    '簌': 'rustle',
    '沙': 'sand',
    '刷': 'brush',
    '唰': 'swish',
    '哗': 'splash',
    '淅': 'patter',
    '沥': 'drip',
    '霈': 'rain',
    '霏': 'drizzle',
    '濛': 'misty',
    '蒙': 'cover',
    '昧': 'dark',
    '冥': 'dark',
    '幽': 'secluded',
    '森': 'forest',
    '阴': 'shade',
    '郁': 'gloomy',
    '邃': 'deep',
    '渊': 'abyss',
    '穹': 'dome',
    '苍': 'azure',
    '茫': 'vast',
    '辽': 'vast',
    '氓': 'vagrant',
    '帮': 'gang',
    '派': 'faction',
    '帮': 'help',
    '酷': 'cool',
    '炫': 'dazzle',
    '眩': 'dizzy',
    '晕': 'faint',
    '晃': 'sway',
    '摇': 'shake',
    '旋': 'spin',
    '揉': 'rub',
    '捏': 'pinch',
    '掐': 'pinch',
    '拧': 'twist',
    '扭': 'twist',
    '搓': 'rub',
    '挤': 'squeeze',
    '压': 'press',
    '揿': 'press',
    '摁': 'press',
    '按': 'press',
    '推': 'push',
    '拉': 'pull',
    '扯': 'pull',
    '拽': 'drag',
    '拖': 'drag',
    '曳': 'trail',
    '拽': 'pull',
    '牵': 'lead',
    '引': 'guide',
    '携': 'carry',
    '提': 'lift',
    '举': 'raise',
    '抬': 'lift',
    '托': 'hold',
    '捧': 'hold',
    '擎': 'lift',
    '顶': 'top',
    '扛': 'carry',
    '抗': 'resist',
    '撑': 'support',
    '挺': 'upright',
    '竖': 'vertical',
    '竖': 'erect',
    '坚': 'firm',
    '固': 'solid',
    '硬': 'hard',
    '刚': 'rigid',
    '强': 'strong',
    '健': 'healthy',
    '壮': 'robust',
    '劲': 'strength',
    '韧': 'tough',
    '坚': 'persevere',
    '毅': 'resolute',
    '刚': 'unyielding',
    '柔': 'soft',
    '弱': 'weak',
    '脆': 'crispy',
    '嫩': 'tender',
    '娇': 'delicate',
    '羞': 'shy',
    '怯': 'timid',
    '畏': 'fear',
    '惧': 'dread',
    '慌': 'panic',
    '忙': 'busy',
    '匆': 'hurried',
    '促': 'urgent',
    '遽': 'sudden',
    '骤': 'sudden',
    '陡': 'steep',
    '峻': 'precipitous',
    '峭': 'sheer',
    '崎': 'rugged',
    '岖': 'rugged',
    '崚': 'rugged',
    '嶒': 'steep',
    '巉': 'cliff',
    '巅': 'summit',
    '巅': 'peak',
    '颠': 'top',
    '尖': 'sharp',
    '锐': 'sharp',
    '锋': 'edge',
    '芒': 'radiance',
    '锷': 'edge',
    '刃': 'blade',
    '刀': 'knife',
    '剑': 'sword',
    '戈': 'spear',
    '矛': 'lance',
    '枪': 'gun',
    '炮': 'cannon',
    '弹': 'bullet',
    '箭': 'arrow',
    '镖': 'dart',
    '钉': 'nail',
    '针': 'needle',
    '刺': 'thorn',
    '棘': 'bramble',
    '荆': 'thorn',
    '蔷': 'rose',
    '薇': 'rose',
    '蕾': 'bud',
    '苞': 'bud',
    '蕊': 'stamen',
    '萼': 'calyx',
    '梗': 'stem',
    '蔓': 'vine',
    '藤': 'vine',
    '蔓': 'creeper',
    '缠': 'entangle',
    '绕': 'wind',
    '盘': 'coil',
    '缭': 'wind',
    '萦': 'linger',
    '绵': 'continuous',
    '延': 'extend',
    '伸': 'stretch',
    '展': 'spread',
    '舒': 'comfortable',
    '畅': 'smooth',
    '通': 'through',
    '达': 'reach',
    '遍': 'everywhere',
    '及': 'reach',
    '抵': 'reach',
    '至': 'to',
    '临': 'approach',
    '届': 'arrive',
    '达': 'achieve',
    '成': 'succeed',
    '就': 'accomplish',
    '建': 'build',
    '立': 'establish',
    '筑': 'construct',
    '造': 'create',
    '铸': 'cast',
    '塑': 'mold',
    '雕': 'carve',
    '刻': 'engrave',
    '琢': 'polish',
    '磨': 'grind',
    '砺': 'sharpen',
    '削': 'whittle',
    '剔': 'pick',
    '挖': 'dig',
    '掘': 'excavate',
    '凿': 'chisel',
    '钻': 'drill',
    '穿': 'pierce',
    '透': 'penetrate',
    '洞': 'cave',
    '孔': 'hole',
    '窟': 'cave',
    '穴': 'den',
    '窝': 'nest',
    '巢': 'nest',
    '窠': 'nest',
    '穴': 'burrow',
    '洞': 'hole',
    '坑': 'pit',
    '凹': 'concave',
    '陷': 'sink',
    '塌': 'collapse',
    '垮': 'collapse',
    '倒': 'fall',
    '坍': 'collapse',
    '摧': 'destroy',
    '毁': 'ruin',
    '坏': 'break',
    '损': 'damage',
    '伤': 'hurt',
    '痛': 'pain',
    '疼': 'ache',
    '酸': 'sore',
    '麻': 'numb',
    '痒': 'itchy',
    '痹': 'numb',
    '木': 'wooden',
    '僵': 'stiff',
    '直': 'straight',
    '呆': 'dull',
    '滞': 'stagnant',
    '钝': 'blunt',
    '拙': 'clumsy',
    '笨': 'awkward',
    '蠢': 'stupid',
    '愚': 'foolish',
    '傻': 'silly',
    '呆': 'dumb',
    '痴': 'stupid',
    '癫': 'crazy',
    '狂': 'mad',
    '疯': 'insane',
    '颠': 'crazy',
    '昏': 'dizzy',
    '迷': 'confused',
    '惘': 'lost',
    '茫': 'blank',
    '然': 'however',
    '怔': 'stupefied',
    '愣': 'stunned',
    '呆': 'dazed',
    '滞': 'sluggish',
    '迟': 'slow',
    '缓': 'slow',
    '徐': 'slowly',
    '慢': 'slow',
    '迟': 'late',
    '晚': 'late',
    '迟': 'delay',
    '延': 'postpone',
    '拖': 'delay',
    '滞': 'delay',
    '耽': 'delay',
    '搁': 'shelve',
    '置': 'put',
    '搁': 'place',
    '摆': 'arrange',
    '陈': 'display',
    '列': 'line up',
    '排': 'arrange',
    '队': 'queue',
    '行': 'row',
    '列': 'column',
    '纵': 'vertical',
    '横': 'horizontal',
    '斜': 'diagonal',
    '歪': 'crooked',
    '扭': 'twisted',
    '弯': 'curved',
    '蜿': 'winding',
    '曲': 'curved',
    '折': 'fold',
    '拐': 'turn',
    '弯': 'bend',
    '绕': 'detour',
    '迂': 'roundabout',
    '迴': 'circle',
    '徊': 'wander',
    '回': 'return',
    '返': 'return',
    '归': 'return',
    '还': 'return',
    '复': 'restore',
    '恢': 'recover',
    '愈': 'heal',
    '疗': 'treat',
    '医': 'medicine',
    '治': 'cure',
    '救': 'save',
    '援': 'rescue',
    '助': 'help',
    '扶': 'support',
    '持': 'hold',
    '维': 'maintain',
    '护': 'protect',
    '卫': 'guard',
    '守': 'defend',
    '御': 'resist',
    '抵': 'resist',
    '挡': 'block',
    '阻': 'obstruct',
    '遏': 'stop',
    '抑': 'suppress',
    '制': 'control',
    '约': 'restrain',
    '束': 'bind',
    '缚': 'tie',
    '绑': 'bind',
    '系': 'tie',
    '栓': 'fasten',
    '拴': 'tether',
    '牵': 'tether',
    '羁': 'restrain',
    '禁': 'prohibit',
    '锁': 'lock',
    '封': 'seal',
    '闭': 'close',
    '塞': 'plug',
    '堵': 'block',
    '截': 'cut off',
    '断': 'break',
    '裂': 'split',
    '碎': 'shatter',
    '粉': 'powder',
    '末': 'powder',
    '屑': 'crumb',
    '渣': 'residue',
    '沫': 'foam',
    '泡': 'foam',
    '沫': 'froth',
    '涎': 'saliva',
    '液': 'liquid',
    '汁': 'juice',
    '浆': 'pulp',
    '糊': 'paste',
    '糕': 'cake',
    '饼': 'pastry',
    '饺': 'dumpling',
    '馒': 'steamed bun',
    '包': 'bun',
    '馍': 'bun',
    '饼': 'cake',
    '酥': 'crispy',
    '脆': 'crisp',
    '爽': 'crisp',
    '脆': 'brittle',
    '嫩': 'tender',
    '滑': 'smooth',
    '糯': 'glutinous',
    '软': 'soft',
    '绵': 'soft',
    '蓬': 'fluffy',
    '松': 'loose',
    '散': 'loose',
    '稀': 'dilute',
    '薄': 'thin',
    '淡': 'light',
    '浓': 'thick',
    '稠': 'dense',
    '厚': 'thick',
    '重': 'heavy',
    '沉': 'heavy',
    '坠': 'heavy',
    '吊': 'hang',
    '挂': 'hang',
    '悬': 'suspend',
    '垂': 'droop',
    '坠': 'drop',
    '落': 'fall',
    '掉': 'drop',
    '降': 'descend',
    '沉': 'sink',
    '坠': 'fall',
    '陨': 'fall',
    '陷': 'sink',
    '沦': 'fall',
    '堕': 'fall',
    '跌': 'fall',
    '摔': 'fall',
    '倒': 'fall',
    '翻': 'overturn',
    '倾': 'tilt',
    '覆': 'overturn',
    '没': 'submerge',
    '淹': 'flood',
    '溺': 'drown',
    '浸': 'soak',
    '泡': 'soak',
    '渍': 'stain',
    '染': 'dye',
    '沾': 'contaminate',
    '污': 'dirty',
    '浊': 'turbid',
    '混': 'muddy',
    '浑': 'turbid',
    '濛': 'misty',
    '蒙': 'hazy',
    '朦': 'dim',
    '胧': 'hazy',
    '糊': 'blurred',
    '模': 'vague',
    '糊': 'paste',
    '乎': '',
    '楞': 'stupefied',
}

def translate_prompt(prompt):
    """Translate Chinese characters in a prompt to English"""
    result = prompt
    for chinese, english in char_translations.items():
        if english:
            result = result.replace(chinese, english)
    return result

def count_chinese_chars(text):
    """Count Chinese characters in text"""
    return len(re.findall(r'[\u4e00-\u9fff]', text))

print("Loading image_prompt.json...")
with open('frontend/delightful-web/src/opensource/pages/chatNew/components/AiImageStartPage/image_prompt.json', 'r', encoding='utf-8') as f:
    json_data = json.load(f)

print("\nFinal comprehensive pass...")
translated_count = 0
total_before = 0
total_after = 0

for category in json_data.get('data', []):
    for image_item in category.get('images', []):
        if 'prompt' in image_item:
            original = image_item['prompt']
            chinese_before = count_chinese_chars(original)
            total_before += chinese_before
            
            if chinese_before > 0:
                translated = translate_prompt(original)
                chinese_after = count_chinese_chars(translated)
                total_after += chinese_after
                
                if chinese_after < chinese_before:
                    image_item['prompt'] = translated
                    translated_count += 1

print(f"\nSaving updated file...")
with open('frontend/delightful-web/src/opensource/pages/chatNew/components/AiImageStartPage/image_prompt.json', 'w', encoding='utf-8') as f:
    json.dump(json_data, f, ensure_ascii=False, indent=2)

print(f"\n✅ Final pass complete!")
print(f"Modified {translated_count} prompts")
print(f"Chinese characters: {total_before} → {total_after}")
if total_before > 0:
    print(f"Removed: {total_before - total_after} characters ({((total_before - total_after) / total_before * 100):.1f}%)")
