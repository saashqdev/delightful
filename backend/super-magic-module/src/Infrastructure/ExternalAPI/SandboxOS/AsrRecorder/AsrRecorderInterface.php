<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the MIT software license */ namespace Dtyq\SuperMagic\Infrastructure\ExternalAPI\SandboxOS\AsrRecorder; use Dtyq\SuperMagic\Infrastructure\ExternalAPI\SandboxOS\AsrRecorder\Config\AsrAudioConfig; use Dtyq\SuperMagic\Infrastructure\ExternalAPI\SandboxOS\AsrRecorder\Config\AsrNoteFileConfig; use Dtyq\SuperMagic\Infrastructure\ExternalAPI\SandboxOS\AsrRecorder\Config\AsrTranscriptFileConfig; use Dtyq\SuperMagic\Infrastructure\ExternalAPI\SandboxOS\AsrRecorder\Response\AsrRecorderResponse; /** * ASR RecordingServiceInterface.*/ interface AsrRecorderInterface { /** * Start ASR RecordingTask * Pair should Sandbox POST /api/asr/task/start. * * @param string $sandboxId SandboxID * @param string $taskKey TaskKey * @param string $sourceDir audio divide sliceDirectory (each otherPairPath) * @param string $workspaceDir WorkspaceDirectory, default.workspace * @param Null|AsrNoteFileConfig $noteFileConfig NoteFileconfigurationObject (Optional) * @param Null|AsrTranscriptFileConfig $transcriptFileConfig Streaming recognitionconfigurationObject (Optional) * @return AsrRecorderResponse ResponseResult*/ public function startTask( string $sandboxId, string $taskKey, string $sourceDir, string $workspaceDir = '.workspace', ?AsrNoteFileConfig $noteFileConfig = Null, ?AsrTranscriptFileConfig $transcriptFileConfig = Null ): AsrRecorderResponse; /** * Complete ASR RecordingTaskAndMerge (V2 structuretransformVersion) * Pair should Sandbox POST /api/asr/task/finish * SupportpollingQueryStatus (Multiple timescallSameParameter). * * @param string $sandboxId SandboxID * @param string $taskKey TaskKey * @param string $workspaceDir WorkspaceDirectory * @param AsrAudioConfig $audioConfig audioconfigurationObject * @param Null|AsrNoteFileConfig $noteFileConfig NoteFileconfigurationObject * @param Null|AsrTranscriptFileConfig $transcriptFileConfig Streaming recognitionconfigurationObject * @return AsrRecorderResponse ResponseResult*/ public function finishTask( string $sandboxId, string $taskKey, string $workspaceDir, AsrAudioConfig $audioConfig, ?AsrNoteFileConfig $noteFileConfig = Null, ?AsrTranscriptFileConfig $transcriptFileConfig = Null ): AsrRecorderResponse; /** * Cancel ASR RecordingTask * Pair should Sandbox POST /api/asr/task/cancel. * * @param string $sandboxId SandboxID * @param string $taskKey TaskKey * @param string $workspaceDir WorkspaceDirectory, default.workspace * @return AsrRecorderResponse ResponseResult*/ public function cancelTask( string $sandboxId, string $taskKey, string $workspaceDir = '.workspace' ): AsrRecorderResponse; } 