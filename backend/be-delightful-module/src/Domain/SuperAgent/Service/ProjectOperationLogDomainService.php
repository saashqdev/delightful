<?php declare(strict_types=1); /** * Copyright (c) Be Delightful , Distributed under the MIT software license */ namespace Delightful\BeDelightful\Domain\BeAgent\Service; use Delightful\BeDelightful\Domain\BeAgent\Entity\ProjectOperationLogEntity; use Delightful\BeDelightful\Domain\BeAgent\Repository\Facade\ProjectOperationLogRepositoryInterface; /** * ProjectOperationLogDomainService*/ class ProjectOperationLogDomainService { public function __construct( private readonly ProjectOperationLogRepositoryInterface $projectOperationLogRepository ) { } /** * SaveOperationLog.*/ public function saveOperationLog(ProjectOperationLogEntity $operationLog): ProjectOperationLogEntity { return $this->projectOperationLogRepository->save($operationLog); } /** * getProjectOperationLoglist.*/ public function getProjectOperationLogs(int $projectId, int $page = 1, int $pageSize = 20): array { return $this->projectOperationLogRepository->findByProjectId($projectId, $page, $pageSize); } /** * By/According toProjectAndusergetOperationLog.*/ public function getProjectUserOperationLogs(int $projectId, string $userId, int $page = 1, int $pageSize = 20): array { return $this->projectOperationLogRepository->findByProjectAndUser($projectId, $userId, $page, $pageSize); } /** * By/According toProjectAndOperationTypegetLog. * @return ProjectOperationLogEntity[]*/ public function getProjectActionOperationLogs(int $projectId, string $action, int $page = 1, int $pageSize = 20): array { return $this->projectOperationLogRepository->findByProjectAndAction($projectId, $action, $page, $pageSize); } /** * StatisticsProjectOperationLogQuantity.*/ public function countProjectOperationLogs(int $projectId): int { return $this->projectOperationLogRepository->countByProjectId($projectId); } /** * By/According toOrganization codegetOperationLog.*/ public function getOrganizationOperationLogs(string $organizationCode, int $page = 1, int $pageSize = 20): array { return $this->projectOperationLogRepository->findByOrganization($organizationCode, $page, $pageSize); } } 